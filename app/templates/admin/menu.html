{% extends "base.html" %}
{% block title %}Управление на меню{% endblock %}
{% block content %}
<div class="container mx-auto px-4 py-8">
    <h2 class="text-3xl font-bold mb-6">Управление на меню</h2>
    <form method="POST" action="" class="mb-8 bg-white p-6 rounded-lg shadow-lg">
        {{ form.hidden_tag() }}
        <div class="form-group mb-4">
            {{ form.name.label(class="block text-gray-700 text-sm font-bold mb-2") }}
            {{ form.name(class="form-control w-full p-3 border border-gray-300 rounded-lg") }}
        </div>
        <div class="form-group mb-4">
            {{ form.description.label(class="block text-gray-700 text-sm font-bold mb-2") }}
            {{ form.description(class="form-control w-full p-3 border border-gray-300 rounded-lg") }}
        </div>
        <div class="form-group mb-4">
            {{ form.price.label(class="block text-gray-700 text-sm font-bold mb-2") }}
            {{ form.price(class="form-control w-full p-3 border border-gray-300 rounded-lg") }}
        </div>
        <div class="form-group mb-4">
            {{ form.category.label(class="block text-gray-700 text-sm font-bold mb-2") }}
            {{ form.category(class="form-control w-full p-3 border border-gray-300 rounded-lg") }}
        </div>
        <div class="form-group form-check mb-4">
            {{ form.special(class="form-check-input mr-2") }} {{ form.special.label(class="text-gray-700") }}
        </div>
        <div class="form-group form-check mb-4">
            {{ form.promotion(class="form-check-input mr-2") }} {{ form.promotion.label(class="text-gray-700") }}
        </div>
        <div class="form-group mb-4">
            {{ form.image_url.label(class="block text-gray-700 text-sm font-bold mb-2") }}
            {{ form.image_url(class="form-control w-full p-3 border border-gray-300 rounded-lg") }}
        </div>
        <button type="submit" class="bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600">Добави продукт в меню</button>
    </form>
    <hr class="mb-8">
    <h3 class="text-2xl font-bold mb-6">Меню</h3>
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
        {% for item in menu_items %}
        <div class="card-menu bg-white p-6 rounded-lg shadow-lg flex flex-col justify-between">
            <img src="{{ item.image_url }}" class="card-menu-img-top mb-4 w-full max-h-48 object-contain" alt="{{ item.name }}">
            <div class="card-menu-body flex-1 flex flex-col justify-between">
                <h5 class="card-menu-title text-xl font-bold mb-2">{{ item.name }}</h5>
                <p class="card-menu-text mb-2">{{ item.description }}</p>
                <p class="card-menu-text font-semibold mb-2">{{ item.price }} лв.</p>
                <p class="card-menu-text text-gray-600 text-sm mb-2">{{ item.category }}</p>
                <div class="mb-2">
                    {% if item.special %}
                    <span class="inline-block bg-green-500 text-white text-xs px-2 py-1 rounded-full">Специален продукт</span>
                    {% endif %}
                    {% if item.promotion %}
                    <span class="inline-block bg-yellow-500 text-white text-xs px-2 py-1 rounded-full">Промоционален продукт</span>
                    {% endif %}
                </div>
            </div>
            <div class="card-menu-footer mt-auto flex space-x-2">
                <a href="{{ url_for('edit_menu_item', item_id=item.id) }}" class="bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600">Редактирай</a>
                <form method="POST" action="{{ url_for('delete_menu_item', item_id=item.id) }}" class="inline-block">
                    <button type="submit" class="bg-red-500 text-white px-4 py-2 rounded-md hover:bg-red-600">Изтрий</button>
                </form>
            </div>
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}
